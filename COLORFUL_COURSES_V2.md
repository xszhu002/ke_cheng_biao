# 🌈 多彩课程标签功能 V2.0

## 📋 更新说明

**V2.0 重大更新**：颜色现在固定在课程标签上，而不是时间位置上！

## 🎯 新特性

### ✨ **颜色跟随课程**

- 颜色现在绑定在课程ID上，不再依赖时间位置
- 拖拽课程到任何位置，颜色都保持不变
- 每个课程都有固定的专属颜色

### 🧠 **智能颜色分配**

- 对于已存在的课程：基于课程ID的哈希值分配固定颜色
- 对于新创建的课程：自动选择使用最少的颜色
- 确保5种颜色的使用尽可能平衡

## 🎨 颜色方案

### 信息科技课程五彩方案

1. **热情红** (`info1`) - `#F44336 → #D32F2F`
2. **清新青** (`info2`) - `#00BCD4 → #0097A7`
3. **天空蓝** (`info3`) - `#2196F3 → #1976D2`
4. **温暖橙** (`info4`) - `#FF9800 → #F57C00`
5. **自然绿** (`info5`) - `#4CAF50 → #66BB6A`

所有颜色都使用**白色文字**，确保清晰可读！

## 🔧 技术实现

### 核心逻辑

```javascript
// V2.0: 基于课程ID的固定颜色分配
getInfoTechColorClass(weekday, timeSlot, courseId) {
    const infoTechColors = ['info1', 'info2', 'info3', 'info4', 'info5'];
  
    if (courseId) {
        // 课程ID哈希 → 固定颜色
        const hash = this.hashCode(courseId.toString());
        const colorIndex = Math.abs(hash) % infoTechColors.length;
        return infoTechColors[colorIndex];
    }
  
    // 新课程智能分配
    return this.getNextAvailableInfoColor();
}
```

### 智能分配算法

```javascript
getNextAvailableInfoColor() {
    // 1. 统计当前所有颜色使用次数
    // 2. 选择使用次数最少的颜色
    // 3. 确保颜色分布平衡
}
```

## 🚀 使用体验

### ✅ **V2.0 优势**

1. **拖拽稳定** - 课程移动时颜色不变，视觉连续性更好
2. **记忆友好** - 每个课程都有固定颜色，便于识别和记忆
3. **智能平衡** - 新课程自动选择最佳颜色，避免颜色扎堆
4. **视觉一致** - 同一课程在不同时间看起来都一样

### 🔄 **与V1.0对比**

| 特性       | V1.0 (基于位置) | V2.0 (基于课程) |
| ---------- | --------------- | --------------- |
| 颜色绑定   | 时间位置        | 课程标签        |
| 拖拽后颜色 | 改变            | 保持不变 ✅     |
| 视觉记忆   | 依赖位置        | 依赖课程 ✅     |
| 颜色分布   | 均匀            | 智能平衡 ✅     |

## 💡 实际应用场景

### 📚 **信息科技专职老师的一天**

假设你有以下课程安排：

- 课程ID 101: 五年级信息科技 → 🔴 红色
- 课程ID 205: 三年级信息科技 → 🔵 蓝色
- 课程ID 308: 四年级信息科技 → 🟠 橙色

**拖拽换课时**：

- 无论你把"五年级信息科技"拖到哪里，它都保持🔴红色
- 一眼就能识别是哪个班级的课程
- 不会因为位置改变而迷惑

### 🎯 **颜色记忆技巧**

- **红色信息科技** = 五年级
- **青色信息科技** = 三年级
- **蓝色信息科技** = 四年级
- **橙色信息科技** = 二年级
- **绿色信息科技** = 一年级

## 🔄 **升级说明**

如果你之前使用过V1.0版本：

1. 现有课程会自动转换为基于ID的颜色分配
2. 颜色可能会有所调整，但会更加稳定
3. 新创建的课程会使用智能分配算法

---

🎉 **现在享受更加智能和稳定的多彩课程表体验吧！**
